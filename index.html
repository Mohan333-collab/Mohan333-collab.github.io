<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>

      var InAppartment_Views = ["./In Appartment/Bedroom 1.jpg",
    "./In Appartment/Bedroom 2.jpg",
  "./In Appartment/Bedroom 3.jpg",
"./In Appartment/Dinning.jpg",
"./In Appartment/Kitchen.jpg",
"./In Appartment/Living 1.jpg"];

    // var _2ndHotSpots = document.querySelector('2ndHotSpot');
    // var _1stHotSpots = document.querySelector('1stHotSpot');

    // _1stHotSpots.forEach(element => {
      
    //   element.setAttribute('visible','false');

    // });
    // _1sthotspot.setAttribute('visible','false');
    // _2ndhotspot.setAttribute('visible','true');

    // AFRAME.registerComponent('hotspot1', {
    //   events: {
    //     click: function (evt) {
    //       console.log('This hotspot1 entity was clicked!');

    //       var sceneEl = document.querySelector('a-scene');

    //       var _2ndhotspot = sceneEl.querySelector('#SecondHotSpot');
    //       var _1sthotspot = sceneEl.querySelector('#FirstHotSpot');

    //       _1sthotspot.setAttribute('visible','true');
    //       _2ndhotspot.setAttribute('visible','false');

    //       var sky =  sceneEl.querySelector('#sky-src');
    //       sky.setAttribute('src','./wp3244103.jpeg');
    //     }
    //   }
    // });

    // AFRAME.registerComponent('hotspot2', {
    //   events: {
    //     click: function (evt) {
    //       console.log('This hotspot2 entity was clicked!');

    //       var sceneEl = document.querySelector('a-scene');

    //       var _2ndhotspot = sceneEl.querySelector('#SecondHotSpot');
    //       var _1sthotspot = sceneEl.querySelector('#FirstHotSpot');

    //       _1sthotspot.setAttribute('visible','false');
    //       _2ndhotspot.setAttribute('visible','true');

    //       var sky =  sceneEl.querySelector('#sky-src');
    //       sky.setAttribute('src','./puydesancy.jpeg');
    //     }
    //   }
    // });

    var index = 0;

    AFRAME.registerComponent('hotspot2', {
      events: {
        click: function (evt) {
          console.log('This hotspot2 entity was clicked!');

          var sceneEl = document.querySelector('a-scene');

          // var _2ndhotspot = sceneEl.querySelector('#SecondHotSpot');
          // var _1sthotspot = sceneEl.querySelector('#FirstHotSpot');

          // _1sthotspot.setAttribute('visible','false');
          // _2ndhotspot.setAttribute('visible','true');

          ++index;

          if(index > InAppartment_Views.length-1)
          {
            index = 0;
          }

          var selected360Image = InAppartment_Views[index];


          var fileName = selected360Image.split("/").pop();
          
          console.log("fileName "+fileName);

          var roomName =  sceneEl.querySelector('#roomName');
          roomName.setAttribute('value',fileName.replace(".jpg", ""));

          var sky =  sceneEl.querySelector('#sky-src');
          sky.setAttribute('src',selected360Image);
        }
      }
    });

    </script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse; fuse: false" raycaster="objects: .raycastable">
      <a-sky id="sky-src" src="./In Appartment/Bedroom 1.jpg" rotation="0 -130 0"></a-sky>

      <!-- <a-text font="kelsonsans" value="Puy de Sancy, France" width="6" position="-2.5 0.25 -1.5"
              rotation="0 15 0"></a-text> -->

      <!-- <a-entity id="SecondHotSpot" hotspot1 class="raycastable" geometry="primitive: plane" position="-1.41761 3 -1.5" rotation="" scale="2.36 1 0.00001" material="color: #8241a4"> 

        <a-text font="kelsonsans" value="Move To 2nd Spot" width="6" position="-0.35674 0 7236.04925" rotation="" text="" scale="0.36 1 1"></a-text>

      </a-entity> -->

    <!-- <a-entity id="FirstHotSpot" visible="false" hotspot2 class="raycastable" geometry="primitive: plane" position="-1.41761 1.5 -1.5" rotation="" scale="2.36 1 0.00001" material="color: #8241a4">

    <a-text font="kelsonsans" value="Move To 1st Spot" width="6" position="-0.35674 0 7236.04925"
    rotation="0 0 0" scale="0.36 1 1"></a-text>

    </a-entity> -->

    <a-text font="kelsonsans" id="roomName" value="Bedroom 1" width="6" position="-2.21352 1.77453 -1.5" rotation="" scale="" text=""></a-text>

    <a-entity id="FirstHotSpot" visible="true" hotspot2 class="raycastable" geometry="primitive: plane" position="-1.41761 1.5 -1.5" rotation="" scale="2.36 1 0.00001" material="color: #8241a4">

      <a-text font="kelsonsans" value="Move To Next" width="6" position="-0.35674 -0.18459 7236.04925" rotation="" scale="0.36 1 1" text=""></a-text>
  
      </a-entity>

    </a-scene>

  </body>

<script>

$(document).ready(function(){

  $(".a-enter-vr").hide();

});

</script>

</html>
